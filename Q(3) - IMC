#include <stdio.h>

float IMC(float Massa, float Altura, char Sexo) {
  if (Sexo == 'F') {
    return 1.03 * Massa / (Altura * Altura);
  } else {
    return 0.97 * Massa / (Altura * Altura);
  }
}

int main(void) {
  float altura = 0, massa = 0;
  char sexo;
  int escolha = 0;

  while (1) {
    printf("Menu de Escolhas:\n");
    printf("1 - Inserir Aluno.\n");
    printf("0 - Sair do Programa.\n");
    scanf("%i", &escolha);

    if (escolha == 0) {
      printf("Saindo do Programa...\n");
      break;
    } else if (escolha != 0 && escolha != 1) {
      printf("Erro! Valor inserido inválido.\n");
      printf("Encerrando programa...\n");
      break;
    } else {
      printf("Digite sua Altura:\n");
      scanf("%f", &altura);
      printf("Digite sua Massa:\n");
      scanf("%f", &massa);
      printf("Digite seu Gênero (F ou M):\n");
      scanf(" %c", &sexo);

      if (altura <= 0 || massa <= 0 || (sexo != 'F' && sexo != 'M')) {
        if (altura <= 0) {
          printf("Altura não pode ser 0 ou negativa.\n");
        }
        if (massa <= 0) {
          printf("Massa não pode ser 0 ou negativa.\n");
        }
        if (sexo != 'F' && sexo != 'M') {
          printf("Digite 'F' ou 'M' para definir seu gênero.\n");
        }
        continue;
      }

      printf("Seu IMC é: %f\n", IMC(massa, altura, sexo));
    }
  }

  return 0;
}

